<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ModoMobile - Sistema</title>
    <link rel="shortcut icon" href="imagens/1.2.png" type="image/x-icon">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Sidebar -->
    <div class="sidebar">
        <div class="sidebar-header">
            <img src="imagens/4-removebg-preview.png" alt="logo da loja" width="80%">
            <!-- <h3>Modo Mobile Sistema</h3> -->
        </div>
        <ul class="sidebar-menu">
            <li>
                <a href="#" class="active" data-section="dashboard">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </a>
            </li>
            <li>
                <a href="#" data-section="sales">
                    <i class="fas fa-shopping-cart"></i>
                    <span>Vendas</span>
                </a>
            </li>
            <li>
                <a href="#" data-section="customers">
                    <i class="fas fa-users"></i>
                    <span>Clientes</span>
                </a>
            </li>
            <li>
                <a href="#" data-section="products">
                    <i class="fas fa-box-open"></i>
                    <span>Produtos</span>
                </a>
            </li>
            <li>
                <a href="#" data-section="service-orders">
                    <i class="fas fa-tools"></i>
                    <span>Ordens de Serviço</span>
                </a>
            </li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Dashboard Section -->
        <section id="dashboard-section">
            <div class="header">
                <h2>Dashboard</h2>
                <div class="user-info">
                    <img src="https://ui-avatars.com/api/?name=Admin" alt="User">
                    <span>Admin</span>
                </div>
            </div>

            <div class="cards">
                <div class="card today-sales">
                    <div class="card-header">
                        <h3>Vendas Hoje</h3>
                        <i class="fas fa-shopping-bag"></i>
                    </div>
                    <div class="card-body">
                        <h2 id="today-sales-amount">R$ 0,00</h2>
                        <p>+0% em relação a ontem</p>
                    </div>
                </div>
                <div class="card today-profit">
                    <div class="card-header">
                        <h3>Lucro Hoje</h3>
                        <i class="fas fa-chart-line"></i>
                    </div>
                    <div class="card-body">
                        <h2 id="today-profit-amount">R$ 0,00</h2>
                        <p>+0% em relação a ontem</p>
                    </div>
                </div>
                <div class="card month-sales">
                    <div class="card-header">
                        <h3>Vendas Mês</h3>
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <div class="card-body">
                        <h2 id="month-sales-amount">R$ 0,00</h2>
                        <p>+0% em relação ao mês passado</p>
                    </div>
                </div>
                <div class="card month-profit">
                    <div class="card-header">
                        <h3>Lucro Mês</h3>
                        <i class="fas fa-money-bill-wave"></i>
                    </div>
                    <div class="card-body">
                        <h2 id="month-profit-amount">R$ 0,00</h2>
                        <p>+0% em relação ao mês passado</p>
                    </div>
                </div>
            </div>

            <div class="chart-container">
                <div class="chart-header">
                    <h3>Desempenho de Vendas</h3>
                    <div class="chart-filters">
                        <button class="active" data-period="day">Dia</button>
                        <button data-period="week">Semana</button>
                        <button data-period="month">Mês</button>
                    </div>
                </div>
                <canvas id="salesChart"></canvas>
            </div>

            <div class="table-container">
                <h3>Últimas Vendas</h3>
                <table id="recent-sales-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Data</th>
                            <th>Cliente</th>
                            <th>Total</th>
                            <th>Status</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Dados serão preenchidos via JavaScript -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Sales Section -->
        <section id="sales-section" style="display: none;">
            <div class="header">
                <h2>Vendas</h2>
                <div class="user-info">
                    <img src="https://ui-avatars.com/api/?name=Admin" alt="User">
                    <span>Admin</span>
                </div>
            </div>

            <div class="sales-panel">
                <div class="products-list">
                    <div class="form-group">
                        <input type="text" class="form-control" id="product-search" placeholder="Buscar produtos...">
                    </div>
                    <div id="products-list-container">
                        <!-- Produtos serão preenchidos via JavaScript -->
                    </div>
                </div>

                <div class="cart-container">
                    <div class="cart-header">
                        <h3>Carrinho de Vendas</h3>
                    </div>
                    <div class="cart-items" id="cart-items">
                        <!-- Itens do carrinho serão preenchidos via JavaScript -->
                    </div>
                    <div class="cart-total">
                        <h3>Total</h3>
                        <span class="cart-total-price" id="cart-total">R$ 0,00</span>
                    </div>

                    <div class="discount-input">
                        <input type="text" class="form-control" id="discount-input" placeholder="Desconto">
                        <button class="btn btn-secondary" id="apply-discount">Aplicar</button>
                    </div>

                    <div class="payment-methods">
                        <h4>Forma de Pagamento</h4>
                        <div class="payment-method">
                            <input type="radio" id="cash" name="payment" value="Dinheiro" checked>
                            <label for="cash">Dinheiro</label>
                        </div>
                        <div class="payment-method">
                            <input type="radio" id="credit" name="payment" value="Crédito">
                            <label for="credit">Crédito</label>
                        </div>
                        <div class="payment-method">
                            <input type="radio" id="debit" name="payment" value="Débito">
                            <label for="debit">Débito</label>
                        </div>
                        <div class="payment-method">
                            <input type="radio" id="pix" name="payment" value="PIX">
                            <label for="pix">PIX</label>
                        </div>
                    </div>

                    <div class="customer-search">
                        <div class="form-group">
                            <label for="customer-search">Cliente</label>
                            <div style="display: flex;">
                                <input type="text" class="form-control" id="customer-search" placeholder="Buscar cliente...">
                                <button class="btn btn-secondary" id="new-customer-btn" style="margin-left: 10px;">Novo</button>
                            </div>
                            <div id="customer-search-results" style="display: none; margin-top: 10px; border: 1px solid #ddd; max-height: 200px; overflow-y: auto;"></div>
                        </div>
                    </div>

                    <button class="btn btn-primary" id="complete-sale">Finalizar Venda</button>
                </div>
            </div>

            <!-- Receipt Modal -->
            <div class="modal" id="receipt-modal">
                <div class="modal-content">
                    <button class="modal-close">&times;</button>
                    <div class="modal-header">
                        <h3>Recibo de Venda</h3>
                    </div>
                    <div class="receipt" id="receipt-content">
                        <div class="receipt-header">
                            <h2>PDV Moderno</h2>
                            <p>Rua Exemplo, 123 - Centro</p>
                            <p>São Paulo - SP</p>
                            <p>CNPJ: 12.345.678/0001-99</p>
                            <p>IE: 123.456.789.111</p>
                            <p>--------------------------------</p>
                            <p>Venda #<span id="receipt-id">0001</span></p>
                            <p>Data: <span id="receipt-date">01/01/2023 10:00</span></p>
                            <p>Cliente: <span id="receipt-customer">Consumidor Final</span></p>
                            <p>Atendente: Admin</p>
                            <p>--------------------------------</p>
                        </div>
                        <div class="receipt-body" id="receipt-items">
                            <!-- Itens serão preenchidos via JavaScript -->
                        </div>
                        <div class="receipt-total">
                            <span>Total:</span>
                            <span id="receipt-total">R$ 0,00</span>
                        </div>
                        <div class="receipt-footer">
                            <p>Forma de Pagamento: <span id="receipt-payment">Dinheiro</span></p>
                            <p>--------------------------------</p>
                            <p>Obrigado pela preferência!</p>
                            <p>Volte sempre!</p>
                        </div>
                    </div>
                    <div class="modal-footer no-print">
                        <button class="btn btn-danger modal-close">Fechar</button>
                        <button class="btn btn-primary" id="print-receipt">Imprimir</button>
                    </div>
                </div>
            </div>

            <!-- New Customer Modal -->
            <div class="modal" id="new-customer-modal">
                <div class="modal-content">
                    <button class="modal-close">&times;</button>
                    <div class="modal-header">
                        <h3>Novo Cliente</h3>
                    </div>
                    <div class="form-container">
                        <div class="form-group">
                            <label for="customer-name">Nome</label>
                            <input type="text" class="form-control" id="customer-name" placeholder="Nome completo">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="customer-phone">Telefone</label>
                                <input type="text" class="form-control phone-mask" id="customer-phone" placeholder="(00) 00000-0000" maxlength="15">
                            </div>
                            <div class="form-group">
                                <label for="customer-cpf">CPF</label>
                                <input type="text" class="form-control" id="customer-cpf" placeholder="000.000.000-00" maxlength="14">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="customer-notes">Observações</label>
                            <textarea class="form-control" id="customer-notes" rows="3" placeholder="Observações sobre o cliente"></textarea>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-danger modal-close">Cancelar</button>
                        <button class="btn btn-primary" id="save-customer">Salvar</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Customers Section -->
        <section id="customers-section" style="display: none;">
            <div class="header">
                <h2>Clientes</h2>
                <div class="user-info">
                    <img src="https://ui-avatars.com/api/?name=Admin" alt="User">
                    <span>Admin</span>
                </div>
            </div>

            <div class="table-container">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <div class="form-group" style="flex: 1; margin-right: 20px;">
                        <input type="text" class="form-control" id="customer-table-search" placeholder="Buscar clientes...">
                    </div>
                    <button class="btn btn-primary" id="add-customer-btn">Adicionar Cliente</button>
                </div>
                <table id="customers-table">
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>Telefone</th>
                            <th>CPF</th>
                            <th>Total Compras</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Dados serão preenchidos via JavaScript -->
                    </tbody>
                </table>
            </div>

            <!-- Customer Details Modal -->
            <div class="modal" id="customer-details-modal">
                <div class="modal-content" style="max-width: 800px;">
                    <button class="modal-close">&times;</button>
                    <div class="modal-header">
                        <h3>Detalhes do Cliente</h3>
                    </div>
                    <div class="tabs">
                        <div class="tab active" data-tab="info">Informações</div>
                        <div class="tab" data-tab="purchases">Histórico de Compras</div>
                        <div class="tab" data-tab="services">Ordens de Serviço</div>
                        <div class="tab" data-tab="notes">Anotações</div>
                    </div>
                    
                    <div id="customer-tab-info" class="tab-content active">
                        <div class="form-container">
                            <div class="form-group">
                                <label for="edit-customer-name">Nome</label>
                                <input type="text" class="form-control" id="edit-customer-name" placeholder="Nome completo">
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="edit-customer-phone">Telefone</label>
                                    <input type="text" class="form-control phone-mask" id="edit-customer-phone" placeholder="(00) 00000-0000" maxlength="15">
                                </div>
                                <div class="form-group">
                                    <label for="edit-customer-cpf">CPF</label>
                                    <input type="text" class="form-control" id="edit-customer-cpf" placeholder="000.000.000-00" maxlength="14">
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="customer-tab-purchases" class="tab-content" style="display: none;">
                        <table>
                            <thead>
                                <tr>
                                    <th>Data</th>
                                    <th>Venda #</th>
                                    <th>Total</th>
                                    <th>Forma Pagamento</th>
                                </tr>
                            </thead>
                            <tbody id="customer-purchases-list">
                                <!-- Dados serão preenchidos via JavaScript -->
                            </tbody>
                        </table>
                    </div>
                    
                    <div id="customer-tab-services" class="tab-content" style="display: none;">
                        <table>
                            <thead>
                                <tr>
                                    <th>Data</th>
                                    <th>OS #</th>
                                    <th>Problema</th>
                                    <th>Valor</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="customer-services-list">
                                <!-- Dados serão preenchidos via JavaScript -->
                            </tbody>
                        </table>
                    </div>
                    
                    <div id="customer-tab-notes" class="tab-content" style="display: none;">
                        <div class="form-group">
                            <textarea class="form-control" id="edit-customer-notes" rows="5" placeholder="Anotações sobre o cliente"></textarea>
                        </div>
                    </div>
                    
                    <div class="modal-footer">
                        <button class="btn btn-danger" id="delete-customer-btn">Excluir Cliente</button>
                        <button class="btn btn-primary" id="update-customer-btn">Salvar Alterações</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Products Section -->
        <section id="products-section" style="display: none;">
            <div class="header">
                <h2>Produtos</h2>
                <div class="user-info">
                    <img src="https://ui-avatars.com/api/?name=Admin" alt="User">
                    <span>Admin</span>
                </div>
            </div>

            <div class="table-container">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <div class="form-group" style="flex: 1; margin-right: 20px;">
                        <input type="text" class="form-control" id="product-table-search" placeholder="Buscar produtos...">
                    </div>
                    <button class="btn btn-primary" id="add-product-btn">Adicionar Produto</button>
                </div>
                <table id="products-table">
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>Estoque</th>
                            <th>Estoque Ideal</th>
                            <th>Custo</th>
                            <th>Venda</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Dados serão preenchidos via JavaScript -->
                    </tbody>
                </table>
            </div>

            <!-- Low Stock Warning -->
            <div class="table-container" style="margin-top: 30px;">
                <h3>Produtos com Estoque Baixo</h3>
                <table id="low-stock-table">
                    <thead>
                        <tr>
                            <th>Nome</th>
                            <th>Estoque Atual</th>
                            <th>Estoque Ideal</th>
                            <th>Diferença</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Dados serão preenchidos via JavaScript -->
                    </tbody>
                </table>
            </div>

            <!-- Product Modal -->
            <div class="modal" id="product-modal">
                <div class="modal-content">
                    <button class="modal-close">&times;</button>
                    <div class="modal-header">
                        <h3 id="product-modal-title">Adicionar Produto</h3>
                    </div>
                    <div class="form-container">
                        <div class="form-group">
                            <label for="product-name">Nome do Produto</label>
                            <input type="text" class="form-control" id="product-name" placeholder="Nome do produto">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="product-quantity">Quantidade Atual</label>
                                <input type="number" class="form-control" id="product-quantity" placeholder="0">
                            </div>
                            <div class="form-group">
                                <label for="product-ideal-quantity">Quantidade Ideal</label>
                                <input type="number" class="form-control" id="product-ideal-quantity" placeholder="0">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="product-cost">Valor de Custo</label>
                                <input type="text" class="form-control" id="product-cost" placeholder="R$ 0,00">
                            </div>
                            <div class="form-group">
                                <label for="product-price">Valor de Venda</label>
                                <input type="text" class="form-control" id="product-price" placeholder="R$ 0,00">
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-danger modal-close">Cancelar</button>
                        <button class="btn btn-primary" id="save-product">Salvar</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Service Orders Section -->
        <section id="service-orders-section" style="display: none;">
            <div class="header">
                <h2>Ordens de Serviço</h2>
                <div class="user-info">
                    <img src="https://ui-avatars.com/api/?name=Admin" alt="User">
                    <span>Admin</span>
                </div>
            </div>

            <div class="table-container">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <div class="form-group" style="flex: 1; margin-right: 20px;">
                        <input type="text" class="form-control" id="service-order-search" placeholder="Buscar ordens de serviço...">
                    </div>
                    <button class="btn btn-primary" id="add-service-order-btn">Nova Ordem</button>
                </div>
                <table id="service-orders-table">
                    <thead>
                        <tr>
                            <th>OS #</th>
                            <th>Cliente</th>
                            <th>Problema</th>
                            <th>Data</th>
                            <th>Valor</th>
                            <th>Status</th>
                            <th>Ações</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- Dados serão preenchidos via JavaScript -->
                    </tbody>
                </table>
            </div>

            <!-- Service Order Modal -->
            <div class="modal" id="service-order-modal">
                <div class="modal-content" style="max-width: 800px;">
                    <button class="modal-close">&times;</button>
                    <div class="modal-header">
                        <h3 id="service-order-modal-title">Nova Ordem de Serviço</h3>
                    </div>
                    <div class="form-container">
                        <div class="form-row">
                            <div class="form-group" style="flex: 2;">
                                <label for="service-order-customer">Cliente</label>
                                <div style="display: flex;">
                                    <input type="text" class="form-control" id="service-order-customer-search" placeholder="Buscar cliente...">
                                    <button class="btn btn-secondary" id="service-order-new-customer-btn" style="margin-left: 10px;">Novo</button>
                                </div>
                                <div id="service-order-customer-search-results" style="display: none; margin-top: 10px; border: 1px solid #ddd; max-height: 200px; overflow-y: auto;"></div>
                            </div>
                            <div class="form-group">
                                <label for="service-order-date">Data</label>
                                <input type="date" class="form-control" id="service-order-date">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="service-order-problem">Descrição do Problema</label>
                            <textarea class="form-control" id="service-order-problem" rows="3" placeholder="Descreva o problema relatado pelo cliente"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="service-order-items">Itens Entregues</label>
                            <textarea class="form-control" id="service-order-items" rows="2" placeholder="Liste os itens entregues pelo cliente (celular, carregador, etc.)"></textarea>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="service-order-estimated-value">Valor Estimado</label>
                                <input type="text" class="form-control" id="service-order-estimated-value" placeholder="R$ 0,00">
                            </div>
                            <div class="form-group">
                                <label for="service-order-deadline">Prazo</label>
                                <input type="date" class="form-control" id="service-order-deadline">
                            </div>
                            <div class="form-group">
                                <label for="service-order-status">Status</label>
                                <select class="form-control" id="service-order-status">
                                    <option value="pending">Pendente</option>
                                    <option value="in_progress">Em Andamento</option>
                                    <option value="completed">Concluído</option>
                                    <option value="canceled">Cancelado</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-danger modal-close">Cancelar</button>
                        <button class="btn btn-primary" id="save-service-order">Salvar</button>
                        <button class="btn btn-success" id="print-service-order" style="display: none;">Imprimir</button>
                    </div>
                </div>
            </div>

            <!-- Service Order Print Preview -->
            <div class="modal" id="service-order-print-modal">
                <div class="modal-content" style="max-width: 800px;">
                    <button class="modal-close">&times;</button>
                    <div class="service-order" id="service-order-print-content">
                        <div class="service-order-header">
                            <h2>PDV Moderno</h2>
                            <p>Rua Exemplo, 123 - Centro - São Paulo - SP</p>
                            <p>Telefone: (11) 1234-5678 | Email: contato@pdvmoderno.com</p>
                            <h3 style="margin-top: 20px;">ORDEM DE SERVIÇO #<span id="print-os-id">0001</span></h3>
                        </div>
                        
                        <div class="service-order-info">
                            <div class="service-order-info-item">
                                <h4>Dados do Cliente</h4>
                                <p>Nome: <span id="print-customer-name">Cliente Exemplo</span></p>
                                <p>Telefone: <span id="print-customer-phone">(11) 98765-4321</span></p>
                                <p>CPF: <span id="print-customer-cpf">123.456.789-00</span></p>
                            </div>
                            <div class="service-order-info-item">
                                <h4>Dados do Serviço</h4>
                                <p>Data: <span id="print-os-date">01/01/2023</span></p>
                                <p>Prazo: <span id="print-os-deadline">10/01/2023</span></p>
                                <p>Status: <span id="print-os-status">Pendente</span></p>
                                <p>Valor: <span id="print-os-value">R$ 150,00</span></p>
                            </div>
                        </div>
                        
                        <div class="service-order-description">
                            <h4>Descrição do Problema</h4>
                            <p id="print-os-problem">Tela do celular quebrada, necessita substituição.</p>
                        </div>
                        
                        <div class="service-order-items">
                            <h4>Itens Entregues</h4>
                            <p id="print-os-items">iPhone XS, carregador original, cabo USB</p>
                        </div>
                        
                        <div class="service-order-signature">
                            <p>Assinatura do Cliente</p>
                            <div class="service-order-signature-line"></div>
                            <p id="print-customer-name-footer">Cliente Exemplo</p>
                        </div>
                    </div>
                    <div class="modal-footer no-print">
                        <button class="btn btn-danger modal-close">Fechar</button>
                        <button class="btn btn-primary" id="print-service-order-btn">Imprimir</button>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <script src="script.js"></script>
</body>
</html>